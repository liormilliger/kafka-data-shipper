# 1. Add the Strimzi Helm repository
helm repo add strimzi https://strimzi.io/charts/

# 2. Update your Helm repositories
helm repo update

# 3. Install the Strimzi operator (e.g., into a namespace 'kafka')
helm install strimzi-operator strimzi/strimzi-kafka-operator \
  --namespace kafka \
  --create-namespace

-------------------

my-kafka-cluster.yaml

apiVersion: kafka.strimzi.io/v1beta2
kind: Kafka
metadata:
  name: my-cluster
  namespace: kafka
spec:
  kafka:
    # This is all you need for a 3-node KRaft cluster.
    # Strimzi handles the rest.
    version: 3.7.0
    replicas: 3
    listeners:
      # Listener for internal cluster communication on port 9092
      - name: plain
        port: 9092
        type: internal
        tls: false
      # Listener for external communication on port 9094
      - name: external
        port: 9094
        type: nodeport # Or 'loadbalancer' if on a cloud provider
        tls: false
    storage:
      type: jbod
      volumes:
        - id: 0
          type: persistent-claim
          size: 100Gi
          deleteClaim: false
  # KRaft configuration is enabled by default.
  # The 'zookeeper' section is no longer needed or supported.
  entityOperator:
    topicOperator: {}
    userOperator: {}

----------------------

kubectl apply -f my-kafka-cluster.yaml -n kafka

helm uninstall strimzi-operator --namespace kafka


